<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>上传视频</title>
		<link rel="stylesheet" href="../css/other/bootstrap.min.css" />
		<link rel="stylesheet" href="../css/ourself/common/common.css" />
		<link rel="stylesheet" href="../css/ourself/user/user.css" />

		<link rel="stylesheet" href="../css/other/default.css" />
		<link rel="stylesheet" media="all" href="../css/other/fileinput.css" />

		<script type="text/javascript" src="../js/other/jquery-1.11.2.min.js"></script>
		<script type="text/javascript" src="../js/other/bootstrap.min.js"></script>
		<script type="text/javascript" src="../js/ourself/common/common.js"></script>

		<script type="text/javascript" src="../js/ourself/common/topDom.js"></script>
		<script type="text/javascript" src="../js/ourself/user/mustLogin.js"></script>

		<script type="text/javascript" src="../js/other/fileinput.js"></script>
		<script type="text/javascript" src="../js/other/zh.js"></script>
	</head>
	<style type="text/css">
		li {
			line-height: 45px;
		}
	</style>

	<body>
		<form class="formCenter">
			<div class="myCenter">
				<h2>视频投稿</h2>
				<span class="redTip"></span>
			</div>
			<div>
				<select name="moduleId" class="form-control" style="width: 20%;display: inline-block;" data-toggle="tooltip" data-placement="left" title="视频所属分类">
					<option value="001">动画</option>
					<option value="002">番剧</option>
					<option value="003">音乐</option>
					<option value="004">舞蹈</option>
					<option value="005">游戏</option>
					<option value="006">科技</option>
					<option value="007">生活</option>
					<option value="008">鬼畜</option>
					<option value="009">时尚</option>
					<option value="010">广告</option>
					<option value="011">娱乐</option>
					<option value="012">影视</option>
				</select>
				<input type="text" class="form-control" name="videoTitle" placeholder="请输入视频标题" style="display: inline-block;width: 79%;" data-toggle="tooltip" data-placement="right" title="标题长度20个字以内" />
			</div>
			<br />
			<div class="form-group">
				<textarea class="form-control" rows="3" placeholder="请输入视频内容" data-toggle="tooltip" data-placement="top" title="视频内容255个字以内"></textarea>
			</div>
			<br />
			<div>
				<form enctype="multipart/form-data" id="form">
					<div style="height: 50px;">
						<div style="float: left;width: 45%;">
							<input id="videoCover" name="videoCover" type="file" accept=".png,.jpg,.jpeg,.gif" />
						</div>
						<div style="float: right;width: 45%;">
							<input id="videoFile" name="videoFile" type="file" accept=".png,.jpg,.jpeg,.gif" />
						</div>
					</div>
					<div>
						<ul class="hengList">
							<li>
								<span style="display: inline-block;padding: 0px;margin: 0px;font-weight: bold;">封<br />面<br />预<br />览</span>
							</li>
							<li>
								<img style="display: inline-block;vertical-align: top;" width="320" height="180" />
							</li>
							<li>
								<button id="loginBtn" type="" class="btn btn-primary" style="width: 40%;margin-left: 5%;height: 180px;">登录</button>
							</li>
						</ul>
					</div>
				</form>
			</div>
		</form>
	</body>
	<script type="text/javascript">
		$(function() {
			$("[data-toggle='tooltip']").tooltip();
			$("#videoCover").prev().text("选择封面");
			$("#videoFile").prev().text("选择视频");
		});

		$('#videoCover').fileinput({
			showPreview: false,
			language: 'zh',
			uploadUrl: '#',
			showUpload: false,
			allowedFileExtensions: ['jpg', 'png', 'gif', 'jpeg'],
		});

		$("#videoCover").change(function() {
			var objUrl = getObjectURL(this.files[0]);
			console.log("objUrl = " + objUrl);
			if(objUrl) {
				$(".bigHeadImage").attr("src", objUrl);
			}
		});
		//建立一個可存取到該file的url
		function getObjectURL(file) {
			var url = null;
			if(window.createObjectURL != undefined) { // basic
				url = window.createObjectURL(file);
			} else if(window.URL != undefined) { // mozilla(firefox)
				url = window.URL.createObjectURL(file);
			} else if(window.webkitURL != undefined) { // webkit or chrome
				url = window.webkitURL.createObjectURL(file);
			}
			return url;
		}

		$('#videoFile').fileinput({
			showPreview: false,
			language: 'zh',
			uploadUrl: '#',
			showUpload: false,
			allowedFileExtensions: ['jpg', 'png', 'gif', 'jpeg'],
		});
	</script>

</html>